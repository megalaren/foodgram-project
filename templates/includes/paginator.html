{% load user_filters %}
<nav class="pagination" aria-label="Search results pages">
  <ul class="pagination__container">

    {% if items.has_previous %}
      <li class="pagination__item">
        {% if url_name == 'profile' %}
          <a class="pagination__link link" href="{% url 'profile' author.username %}{{ request|get_page_param:items.previous_page_number }}">
            <span class="icon-left"></span>
          </a>
        {% else %}
          <a class="pagination__link link" href="{% url url_name %}{{ request|get_page_param:items.previous_page_number }}">
            <span class="icon-left"></span>
          </a>
        {% endif %}
      </li>
    {% endif %}

    {% for i in paginator.page_range %}
      {% if items.number == i %}
        <li class="pagination__item pagination__item_active">
          <span class="pagination__link link">{{ i }}</span>
        </li>
      {% else %}
        {% if url_name == 'profile' %}
          <li class="pagination__item">
            <a class="pagination__link link" href="{% url 'profile' author.username %}{{ request|get_page_param:i }}">
              {{ i }}
            </a>
          </li>
        {% else %}
          <li class="pagination__item">
            <a class="pagination__link link" href="{% url url_name %}{{ request|get_page_param:i }}">
              {{ i }}
            </a>
          </li>
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if items.has_next %}
      <li class="pagination__item">
        {% if url_name == 'profile' %}
          <a class="pagination__link link" href="{% url 'profile' author.username %}{{ request|get_page_param:items.next_page_number }}">
            <span class="icon-right"></span>
          </a>
        {% else %}
          <a class="pagination__link link" href="{% url url_name %}{{ request|get_page_param:items.next_page_number }}">
            <span class="icon-right"></span>
          </a>
        {% endif %}
      </li>
    {% endif %}

  </ul>
</nav>
